<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

  <!-- import css -->
  <link rel="stylesheet" href="./css/style.css" />

  <!-- import driverPopover.css -->
  <link rel="stylesheet" href="./css/driverPopover.css">

  <!-- import google icons -->
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />

  <!-- import google fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Saira+Extra+Condensed:wght@100&family=Teko:wght@300&display=swap"
    rel="stylesheet">

  <!-- import bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous" />

  <!-- import chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link rel="shortcut icon" href="./assets/img/teraLogo.ico" type="image/x-icon" />

  <!-- import chart.js -->
  <script src="https://cdn.jsdelivr.net/jquery/latest/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>

  <!-- import DATE -->
  <script src="https://cdn.jsdelivr.net/jquery/latest/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css" />

  <!-- import scr bootstrap -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
    crossorigin="anonymous"></script>


  <!-- import driver.js -->
  <script src="https://cdn.jsdelivr.net/npm/driver.js@1.0.1/dist/driver.js.iife.js"></script>
  <!-- import driver.js css -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/driver.js@1.0.1/dist/driver.css" />

  <script defer src="./js/generalScript.js"></script>


  <title>Facturas</title>
</head>

<body>

  <!-- CABECERA---------------------------------------------------------------------------------------------- -->
  <div class="container-fluid">
    <div class="row">
      <div class="col-2">
        <!-- logoCliente, zona para poner los banner de los mismos -->
        <img src="./assets/img/aire.png" alt="Logo Aire" width="100" class="mt-1" />
      </div>
      <!-- iconos de user, help and logout NOTA: lleva un !important en css -->
      <div class="col-10 mt-1">
        <div class="d-flex justify-content-end">
          <a class="btAccount btnDelNav" href="#" target="_self"><span class="material-symbols-outlined h3 mt-1"
              id="tuto" onclick="iniciarTour()">
              smart_display
            </span></a>
          <a class="btAccount btnDelNav" href="index.html" target="_self"><span
              class="material-symbols-outlined h3 mt-1 indexBtn-activado" id="facturas">
              draft_orders
            </span></a>
          <a class="btAccount btnDelNav" href="user.html" target="_self"><span class="material-symbols-outlined h3 mt-1"
              id="datos">Account_Circle</span></a>
          <a class="btAccount btnDelNav" href="bolsillo.html" target="_self"><span
              class="material-symbols-outlined h3 mt-1" id="bolsillo">beenhere</span></a>
          <a class="btAccount btnDelNav" href="./assets/pdf/manual.pdf" target="_blank"><span
              class="material-symbols-outlined h3 mt-1" id="manual">developer_guide
            </span></a>
          <a class="btExit btnDelNav" href="login.html" target="_self"><span
              class="material-symbols-outlined h3 mt-1">move_item</span></a>
          <!-- START HAMBURGUER BUTTON ///////////////////////////////////////////////////////////////////////////////////////////////// -->
          <button class="btn btn-primary" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasRight"
            aria-controls="offcanvasRight" id="btnBurger" style="background-color: transparent; border: none;">
            <span class="material-symbols-outlined" style="color: rgb(49, 49, 49); font-size: 34px;">
              menu
            </span>
          </button>
          <!-- END HAMBURGUER BUTTON ///////////////////////////////////////////////////////////////////////////////////////////////// -->
        </div>
      </div>
      <!-- START HAMBURGUER CONTENT ///////////////////////////////////////////////////////////////////////////////////////////////// -->

      <div class="offcanvas offcanvas-end offcanvas-size" tabindex="-1" id="offcanvasRight"
        aria-labelledby="offcanvasRightLabel">
        <div class="offcanvas-header">
          <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <div class="offcanvas-body offcanvas-bd-size">
          <h3 class="text-white">Menu</h3>
          <div class="col-10 mt-1">
            <div class="container justify-content-end">
              <div class="row">
                <a class="btAccountBurguer menuBurgerTexto" href="#" target="_self">
                  <spam class="tamañoBotonesBurgerNav" id="tuto" onclick="iniciarTour()">Tutorial</spam>
                </a>
                <a class="btAccountBurguer menuBurgerTexto" href="index.html" target="_self">
                  <spam class="tamañoBotonesBurgerNav" id="facturas">Mis Facturas</spam>
                </a>
                <a class="btAccountBurguer menuBurgerTexto" href="user.html" target="_self">
                  <spam class="tamañoBotonesBurgerNav" id="datos">Mis Contratos</spam>
                </a>
                <a class="btAccountBurguer menuBurgerTexto" href="bolsillo.html" target="_self">
                  <spam class="tamañoBotonesBurgerNav" id="bolsillo">Bolsillo Solar</spam>
                </a>
                <a class="btAccountBurguer menuBurgerTexto" href="./assets/pdf/manual.pdf" target="_blank">
                  <spam class="tamañoBotonesBurgerNav" id="manual">Documentacion</spam>
                </a>
                <hr class="mt-3" style="border-color: white;">
                <a class="btExitBurguer menuBurgerTexto" href="login.html" target="_self">
                  <spam class="tamañoBotonesBurgerNav">Salir</spam>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- END HAMBURGUER CONTENT ///////////////////////////////////////////////////////////////////////////////////////////////// -->
    </div>
  </div>

  <!-- navbar con logo de TERA y seccion "misFacturas" and "buscarFacturas" -->
  <!-- "buscarFacturas" es un dropdown para ampliar la busqueda por filtros tanto de fechas como de direccion -->
  <nav class="navbar navbar-expand-lg navbar-light bg-dark justify-content-between">
    <!-- mx-auto hace que se centre el brand, esto lo hara con el bP del expand -->
    <!-- este div se usa para situar un espacio en blanco y desplazar asi 'mis facturas' y 'localizar facturas'  -->
    <!-- <div></div> -->
    <!-- DEPRECATED by Joaquin 20/12/2023 -->
    <!-- <div class="teraLogoBorderUser"><a href="index.html" class="navbar-brand text-light mt-2 teraLogoUser">TERA</a></div> -->
    <div class="d-flex align-items-center">
      <div>
        <strong class="misFacturasNav m-2" id="b1">Mis Facturas</strong>
      </div>
      <div class="mx-3 align-items-center">
        <ul class="navbar-nav text-center">
          <li class="nav-item active">
            <!-- dropdown para desplegar el "elemento colapsado"-->
            <button class="btn btn-light text-dark btn-sm border border-0 fs-6 rounded-2" type="button"
              data-bs-toggle="collapse" data-bs-target="#filtrosDeBusqueda" aria-expanded="true"
              aria-controls="collapseExample" id="localizarFacturas">
              Localizar Facturas
            </button>
          </li>
        </ul>
      </div>
    </div>
  </nav>
  <!-- FIN DE LA CABECERA ---------------------------------------------------------------------------------->

  <!-- ELEMENTO COLAPSADO ------------------- -->
  <!-- filtros para ver las facturas, amplia a todas las facturas o entre fechas -->

  <div class="container-fluid">
    <div class="collapse mt-2" id="filtrosDeBusqueda">
      <div class="row g-0 justify-content-sm-end align-items-center">
        <!-- direcciones -->
        <div class="col-4 col-sm-4 col-md-4 col-lg-3" style="margin-right: 5px;">
            <select class="form-select form-select-sm" aria-label="Small select example" name="direcciones">
              <option selected style="font-weight: bold">
                Todas las direcciones
              </option>
              <option value="1">Fabrica Vieja 6 30b</option>
            </select>
        </div>
        <!-- DATE RANGE JS -->
        <div class="col-3 col-sm-4 col-md-4 col-lg-3" style="margin-right: 5px;">
          <input type="text" name="dates" class="form-control form-control-sm">
        </div>
        <!-- SEARCH BUTTON -->
        <div
          class="col-3 col-sm-1 col-md-1 col-lg-1 d-flex justify-content-sm-start justify-content-sm-end justify-content-md-end justify-content-lg-end">
          <button class="btn btn-primary btn-sm" style="width: 100px;" type="button">buscar</button>
        </div>
      </div>
    </div>
  </div>
  <!-- FIN ELEMENTO COLAPSADO  ------------ -->

  <div class="container-fluid mt-2">
    <div class="row justify-content-sm-start justify-content-lg-end">

      <!-- AREA "ULTIMA CONEXION" -->
      <div class="col-12 col-lg-5 order-lg-1 order-3" id="zonaUC">
        <strong>Ultima conexion:</strong><span class="lastConnection"></span>
      </div>
      <div class="col-4 order-lg-2 order-2">

        <!-- ZONA DERECHA, SELECT CONTRATOS  -->
          <!-- SELECT DE CONTRATOS -->
          <select class="form-select form-select-sm" aria-label="Small select example" id="selecContratosIndex">
            <option value="Contratos" selected style="font-weight: bold">
              Contratos
            </option>
          </select>
      </div>
      <div class="col-8 col-sm-8 col-md-8 col-lg-3 order-lg-3 order-2">
        <div class="form-group">
          <div class="input-group">
            <!-- ZONA SEARCH -->
            <span class="lupa material-symbols-outlined mt-1">search</span>
            <input class="form-control form-control-sm mb-2 type=" placeholder="Buscar" name="buscar">
          </div>
        </div>
      </div>
    </div>
    <!-- CONTENEDOR GENERAL. g-2 DIVIDE EL CENTRO -->
    <div class="row g-2">
      <!-- LADO IZQ -->
      <div class="col-12 col-lg-5 order-lg-1 order-2">
        <div class="row">
          <!-- LADO IZQ ZONA ARRIBA -->
          <div class="col-lg-12">
            <div class="card" id="graficaIndex">
              <div class="card-body my-0 mx-1 p-0">
                <!-- ZONA DEL CHART.JS -->
                <canvas id="myChart"></canvas>
              </div>
            </div>
            <!--INFORMACION de mis facturas -->
            <!-- informacionFactura, tiene un sticky en css -->
            <!-- LADO IZQ ZONA ABAJO -->
            <div class="col-lg-12">
              <div class="card mt-2 shadow-sm informacionFactura" id="informacionFactura">
                <div class="card-body mx-2 p-1">
                  <div class="table m-0 mt-2">
                    <strong id="brand_addressTable"></strong>
                    <div class="table-responsive">
                      <table class="table table-sm table-light table-striped">
                        <tbody class="table-group-divider">
                          <tr>
                            <td class="align-middle">CUPS</td>
                            <td id="cups_addressTable">
                            </td>
                            <td class="text-end px-2"><span id="copyIconIndex" onclick="copyCups()" class="material-symbols-outlined align-middle">
                              content_copy
                              </span></td>
                          </tr>
                          <tr>
                            <td>Dirección</td>
                            <td id="address_addressTable"></td>
                            <td></td>
                          </tr>
                          <tr>
                            <td>Provincia</td>
                            <td id="location1_addressTable"></td>
                            <td></td>
                          </tr>
                          <tr>
                            <td>Municipio</td>
                            <td id="location2_addressTable"></td>
                            <td></td>
                          </tr>
                          <tr>
                            <td>Código Postal</td>
                            <td id="cp_addressTable"></td>
                            <td></td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- ZONA DE LECTURAS DE FACTURAS -->
      <!-- LADO DERECHO -->
      <div class="col-12 col-lg-7 order-lg-2 order-1">
        <div class="card table-responsive" id="zonaFacturas">
          <dir class="tbodyDiv tbodyDivIndex p-0 m-0" style="width: 100%;">
            <table class="table table-sm table-striped align-middle table-light">
              <thead class="table-dark">
                <tr class="text-center">
                  <!-- class headerT se usa en css para hacer la cabecera de la tabla stiky -->
                  <th class="headerT">Fecha</th>
                  <th class="headerT">Nº Factura</th>
                  <th class="headerT">Desde</th>
                  <th class="headerT">Hasta</th>
                  <th class="headerT">Consumo kWh</th>
                  <th class="headerT">Total €</th>
                  <th class="headerT">Descargar</th>
                </tr>
              </thead>
              <tbody>
                <tr class="text-center">
                  <!-- tablaIndex tiene un @media en css -->
                  <td class="tablaIndexFecha align-middle">02/08/21</td>
                  <td class="tablaIndexN_factura align-middle">AR-08-05965</td>
                  <td class="tablaIndexDesde align-middle">01/06/21</td>
                  <td class="tablaIndexHasta align-middle">06/07/21</td>
                  <td class="tablaIndexConsumo align-middle">0 kWh</td>
                  <td class="tablaIndexTotal align-middle">22.02 €</td>
                  <td class="tablaIndexDescargar align-middle">
                    <a href="#">
                      <span class="material-symbols-outlined">download </span>
                    </a>
                  </td>
              </tbody>
            </table>
          </dir>
        </div>
      </div>
    </div>
  </div>

  <!-- scr chart.js GRAFICA LADO IZQUIERDO-->
  <script src="./js/chart/indexChart.js"></script>

  <!-- scr driver.js -->
  <script src="./js/tourIndex.js"></script>

  <!-- import bootstrap -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
    integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q zqX6gSbd85u4mG4QzX+"
    crossorigin="anonymous"></script>

  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
    integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
    crossorigin="anonymous"></script>



    <!-- jquery -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>

  <!-- SCR TO DATE FILTER -->
  <script>
    $('input[name="dates"]').daterangepicker();
  </script>
    
  <script src="./js/index.js"></script>